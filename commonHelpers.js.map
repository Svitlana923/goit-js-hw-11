{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst formElem = document.querySelector('.search-form');\nconst galleryEl = document.querySelector('.gallery-o');\nconst loaderElem = document.querySelector('.loader');\nconst lightbox = new SimpleLightbox('.gallery-o', {\n    captionDelay: 250,\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    hideLoader();\n    \n    formElem.addEventListener('submit', onSubmit);\n\n    function onSubmit(e) {\n        e.preventDefault();\n        showLoader();\n\n        const value = formElem.querySelector('.input-search').value;\n        getPhotoBySearch(value)\n            .then(data => {\n                renderImages(data.hits);\n            })\n            .catch(error => {\n                renderError(error);\n            })\n            .finally(() => {\n                hideLoader();\n            });\n        lightbox.refresh();\n    }\n\n    function renderError(error) {\n        galleryEl.innerHTML = '';\n        iziToast.show({\n            message: `‚ùå \"${error.message}\". Please try again!`,\n            color: 'red',\n            position: 'topRight',\n            maxWidth: '400px',\n        });\n    }\n});\n\nfunction showLoader() {\n    loaderElem.style.display = 'block';\n}\n\nfunction hideLoader() {\n    loaderElem.style.display = 'none';\n}"],"names":["formElem","galleryEl","loaderElem","lightbox","SimpleLightbox","hideLoader","onSubmit","e","showLoader","value","data","error","renderError","iziToast"],"mappings":"6vBAKA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAY,SAAS,cAAc,YAAY,EAC/CC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,GAClB,CAAC,EAED,SAAS,iBAAiB,mBAAoB,IAAM,CAEhDC,IAEAL,EAAS,iBAAiB,SAAUM,CAAQ,EAE5C,SAASA,EAASC,EAAG,CACjBA,EAAE,eAAc,EAChBC,IAEA,MAAMC,EAAQT,EAAS,cAAc,eAAe,EAAE,MACtD,iBAAiBS,CAAK,EACjB,KAAKC,GAAQ,CACV,aAAaA,EAAK,IAAI,CACtC,CAAa,EACA,MAAMC,GAAS,CACZC,EAAYD,CAAK,CACjC,CAAa,EACA,QAAQ,IAAM,CACXN,GAChB,CAAa,EACLF,EAAS,QAAO,CACnB,CAED,SAASS,EAAYD,EAAO,CACxBV,EAAU,UAAY,GACtBY,EAAS,KAAK,CACV,QAAS,MAAMF,EAAM,OAAO,uBAC5B,MAAO,MACP,SAAU,WACV,SAAU,OACtB,CAAS,CACJ,CACL,CAAC,EAED,SAASH,GAAa,CAClBN,EAAW,MAAM,QAAU,OAC/B,CAEA,SAASG,GAAa,CAClBH,EAAW,MAAM,QAAU,MAC/B"}