{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\nexport function renderImages(array) {\n       const galleryEl = document.querySelector('.gallery-o');\n    const markup = array\n        .map(\n        ({\n            largeImageURL,\n            webformatURL,\n            tags,\n            likes,\n            views,\n            comments,\n            downloads,\n        }) => {\n            return `\n        <div class=\"gallery\">\n            <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\" width=\"380\" height=\"220\" />\n            <ul class=\"info-cards-container\">\n                <li class=\"info-cards-elements\">likes<span>${likes}</span></li>\n                <li class=\"info-cards-elements\">views<span>${views}</span></li>\n                <li class=\"info-cards-elements\">comments<span>${comments}</span></li>\n                <li class=\"info-cards-elements\">downloads<span>${downloads}</span></li>\n            </ul>\n            </a>\n        </div>\n        `;\n        }\n        )\n        .join('');\n\n    galleryEl.innerHTML = markup;   \n}\n    \n","\nexport function getPhotoBySearch(searchValue) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const KEY = '42424645-ecd3f1048329df1dec069e6a8';\n    const Query = `?key=${KEY}&q=${searchValue}`;\n    const params =\n        '&image_type=photo&orientation=horizontal&safesearch=true';\n    const url = BASE_URL + Query + params;\n\n    return fetch(url)\n        .then(res => res.json())\n        .then(data => {\n        if (data.total === 0) {\n            throw new Error('No images found');\n        }\n        return data;\n        });\n    }\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { renderImages } from './js/render-functions.js';\nimport { getPhotoBySearch } from './js/pixabay-api.js';\n\nconst formElem = document.querySelector('.search-form');\nconst galleryEl = document.querySelector('.gallery-o');\nconst loaderElem = document.querySelector('.loader');\nconst lightbox = new SimpleLightbox('.gallery-o', {\n    captionDelay: 250,\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    hideLoader();\n    \n    formElem.addEventListener('submit', onSubmit);\n\n    function onSubmit(e) {\n        e.preventDefault();\n        showLoader();\n\n        const value = formElem.querySelector('.input-search').value;\n        getPhotoBySearch(value)\n            .then(data => {\n                renderImages(data.hits);\n            })\n            .catch(error => {\n                renderError(error);\n            })\n            .finally(() => {\n                hideLoader();\n            });\n        lightbox.refresh();\n    }\n\n    function renderError(error) {\n        galleryEl.innerHTML = '';\n        iziToast.show({\n            message: `‚ùå \"${error.message}\". Please try again!`,\n            color: 'red',\n            position: 'topRight',\n            maxWidth: '400px',\n        });\n    }\n});\n\nfunction showLoader() {\n    loaderElem.style.display = 'block';\n}\n\nfunction hideLoader() {\n    loaderElem.style.display = 'none';\n}"],"names":["renderImages","array","galleryEl","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","getPhotoBySearch","searchValue","BASE_URL","Query","params","url","res","data","formElem","loaderElem","lightbox","SimpleLightbox","hideLoader","onSubmit","e","showLoader","value","error","renderError","iziToast"],"mappings":"6vBACO,SAASA,EAAaC,EAAO,CAC7B,MAAMC,EAAY,SAAS,cAAc,YAAY,EAClDC,EAASF,EACV,IACD,CAAC,CACG,cAAAG,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACZ,IACmB;AAAA;AAAA,uBAEIN,CAAa;AAAA,wBACZC,CAAY,UAAUC,CAAI,YAAYA,CAAI;AAAA;AAAA,6DAELC,CAAK;AAAA,6DACLC,CAAK;AAAA,gEACFC,CAAQ;AAAA,iEACPC,CAAS;AAAA;AAAA;AAAA;AAAA,SAMjE,EACA,KAAK,EAAE,EAEZR,EAAU,UAAYC,CAC1B,CC/BO,SAASQ,EAAiBC,EAAa,CAC1C,MAAMC,EAAW,2BAEXC,EAAQ,6CAAiBF,CAAW,GACpCG,EACF,2DACEC,EAAMH,EAAWC,EAAQC,EAE/B,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAOA,EAAI,MAAM,EACtB,KAAKC,GAAQ,CACd,GAAIA,EAAK,QAAU,EACf,MAAM,IAAI,MAAM,iBAAiB,EAErC,OAAOA,CACf,CAAS,CACT,CCVA,MAAMC,EAAW,SAAS,cAAc,cAAc,EAChDjB,EAAY,SAAS,cAAc,YAAY,EAC/CkB,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,GAClB,CAAC,EAED,SAAS,iBAAiB,mBAAoB,IAAM,CAEhDC,IAEAJ,EAAS,iBAAiB,SAAUK,CAAQ,EAE5C,SAASA,EAASC,EAAG,CACjBA,EAAE,eAAc,EAChBC,IAEA,MAAMC,EAAQR,EAAS,cAAc,eAAe,EAAE,MACtDR,EAAiBgB,CAAK,EACjB,KAAKT,GAAQ,CACVlB,EAAakB,EAAK,IAAI,CACtC,CAAa,EACA,MAAMU,GAAS,CACZC,EAAYD,CAAK,CACjC,CAAa,EACA,QAAQ,IAAM,CACXL,GAChB,CAAa,EACLF,EAAS,QAAO,CACnB,CAED,SAASQ,EAAYD,EAAO,CACxB1B,EAAU,UAAY,GACtB4B,EAAS,KAAK,CACV,QAAS,MAAMF,EAAM,OAAO,uBAC5B,MAAO,MACP,SAAU,WACV,SAAU,OACtB,CAAS,CACJ,CACL,CAAC,EAED,SAASF,GAAa,CAClBN,EAAW,MAAM,QAAU,OAC/B,CAEA,SAASG,GAAa,CAClBH,EAAW,MAAM,QAAU,MAC/B"}